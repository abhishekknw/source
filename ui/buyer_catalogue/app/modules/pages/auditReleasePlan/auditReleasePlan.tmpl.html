<div><nav-bar></nav-bar></div>
<div ng-loading="loading"></div> <!--For displaying loading icon-->
</br></br></br><back-Button></back-Button>
<h3 style = "margin-left: 460px; margin-top: 60px;">Audit / Release Plan Details</h3>
<div class="container">
  <div class="row">
    <div class="panel panel-default">
      <table class="table table-responsive table-bordered" style="text-align: center;">
        <thead>
          <tr>
            <th ng-repeat="header in headings" class="col-md-2" style="text-align: center;">{{header.header}}</th>
          </tr>
        </thead>
        <tbody ng-repeat="supplier in releaseDetails.shortlisted_suppliers">
          <tr ng-repeat="filter in getFilters(supplier)">
            <td class="col-md-1">
              <input type="number" ng-model="supplier.phase" class="form-control spacing col-width">
            </td>
            <td class="col-md-2">{{filter.inventory_type.adinventory_name}}</td>
            <td class="col-md-2">{{supplier.object_id}}</td>
            <td class="col-md-2">{{supplier.supplier_code}}</td>
            <td class="col-md-2">
              <input type="text" ng-model="filter.release_date" class="form-control spacing" uib-datepicker-popup="{{format}}" is-open="popup1" min-date="today" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" ng-model-options="{timezone:'UTC'}"/>
              <!-- <span class="input-group-btn"> -->
                <button type="button" class="btn btn-default" ng-click="popup1 = true"><i class="glyphicon glyphicon-calendar"></i></button>
              <!-- </span> -->
            </td>
            <td class="col-md-2">
              <a class="" data-target="#auditDateModal" data-toggle="modal" ng-click="setAuditDate(filter)"><b>Add Date</b></a>
            </td>
            <td class="col-md-2">
              <input type="text" ng-model="filter.closure_date" class="form-control spacing" uib-datepicker-popup="{{format}}" is-open="popup3" min-date="today" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" ng-model-options="{timezone:'UTC'}"/>
              <!-- <span class="input-group-btn"> -->
                <button type="button" class="btn btn-default" ng-click="popup3 = true"><i class="glyphicon glyphicon-calendar"></i></button>
              <!-- </span> -->
            </td>
            <td class="col-md-4"><textarea name="comments" class="form-control"></textarea></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
<!--Start: Code for Audit Date Modal Window -->
<div id="auditDateModal" class="modal fade">
  <div class="modal-dialog" style="width:400px">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Contact Details</h4>
        <hr/>
        <div class = "modal-body" style = "width: 450px; height: 400px;">
          <div class="modal-body col-md-4 table-responsive" style="width: 350px; height: 250px">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th ng-repeat="header in audit_dates" class="col-md-5"><b>{{header.header}}</b></th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat = "date in auditDates">
                    <td class="col-md-2">
                      <input type="text" ng-model="filter.release_date" class="form-control col-md-2" uib-datepicker-popup="{{format}}" is-open="popup1" min-date="today" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" ng-model-options="{timezone:'UTC'}"/>
                      <!-- <span class="input-group-btn"> -->
                        <button type="button" class="btn btn-default" ng-click="popup1 = true"><i class="glyphicon glyphicon-calendar"></i></button>
                      <!-- </span> -->
                    </td>
                    <td>
                      <button class="btn btn-danger active notify" ng-click="addDate()">Add</button>
                    </td>
                    <td>
                      <button class="btn btn-danger active notify" ng-click="deleteDate($index)">Delete</button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>




        </div>
      </div>
    </div>
  </div>
</div>
<!--End: Code for Audit Date Modal Window -->
